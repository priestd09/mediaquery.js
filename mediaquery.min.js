/*!
 *  https://github.com/skaiser/mediaquery.js
 *  MIT License (MIT)
 *  Copyright (c) 2012 Stephen Kaiser
 */
(function(d,a,e){var c,f=a.documentElement,b=a.getElementsByTagName("head")[0];c=(function(){var w="0.4.2",K="",J="",j=false,L,r,B,h,x,p,y,k;k=d.jsmq_config||{};k.PREFIX=r=k.PREFIX||"jsmq-";k.BELOW_PREFIX=B=k.BELOW_PREFIX||"below-";k.UNITS=h=k.UNITS||"em";k.sizes=k.sizes||{"61":r+"large","60":r+"medium","45":r+"small","30":r+"smaller"};k.elemNames=k.elemNames||{viewport:r+"media-width",device:r+"media-device-width",css:r+"styles"};k.useMyOwnStyles=k.useMyOwnStyles||false;k.useMyOwnElements=k.useMyOwnElements||false;k.supportOldBrowsers=k.supportOldBrowsers||true;k.DEFAULT_EVENT=x=k.DEFAULT_EVENT||"jsmq:update";k.DEFAULT_EVENT_ELEM=p=k.DEFAULT_EVT_ELEM||k.elemNames.viewport;k.delayInit=k.delayInit||false;k.isTest=k.isTest||false;k.names={};function Q(R){return a.getElementById(R)}function s(U,S,T){var R;if(S){R=S.length;T=(T&&T<R-1)?T:0;for(;T<R;T++){if(T in S&&S[T]==U){return T}}}return -1}function v(R,S){var T;S=S||k.sizes;for(T in S){if(S.hasOwnProperty(T)){if(S[T]===R){return T}}}}function E(U,T){var S={},R;for(R in U){if(U.hasOwnProperty(R)){S[U[R]]=T?Number(R):R}}return S}k.names=E(k.sizes,true);function N(R){return k[R]!==e?k[R]:k}y=function(R){if(d.getComputedStyle&&d.matchMedia){y=function(U){var S=d.getComputedStyle,T=U?"device":"viewport";return parseInt(S(Q(k.elemNames[T])).getPropertyValue("width"),10)}}else{if(k.supportOldBrowsers&&(b.currentStyle||d.getComputedStyle)){y=function(X){var U,W,S="1em",V=X?"device":"viewport",T=X?screen.width:d.innerWidth||f.clientWidth;if(h==="em"){U=Q(k.elemNames[V]);U.style.height=S;if(U.currentStyle){S=U.currentStyle.height}else{S=d.getComputedStyle(U).getPropertyValue("height")}W=S.match(/em/)!==null?16:parseInt(S,10);U.style.height=0;return T/W}return T}}else{y=function(){return 0}}}};y();function q(){var R=[],T=k.sizes,S;for(S in T){if(T.hasOwnProperty(S)){R.push(S)}}return R.sort().reverse()}L=q();function m(V){var S=q(),R=S.length,U=S[0],T=1;for(;T<=R;T++){if(V<=U&&V>(S[T]||0)){return k.sizes[U]}U=S[T]}return k.sizes[S[0]]}function u(T,S){if(T===e||typeof T==="boolean"){S=T;var R=y(S);return k.sizes[R]||m(R)}if(typeof T==="string"){T=k.names[T]}return T?parseInt(T,10)===y(S):false}function g(S,R){S=typeof S==="number"?S:k.names[S];return S?y(R)<parseInt(S,10):false}function A(S){var R=a.createElement("style");R.type="text/css";R.setAttribute("id",k.elemNames.css);if(R.styleSheet){R.styleSheet.cssText=S}else{R.appendChild(a.createTextNode(S))}b.appendChild(R)}function H(S,R){var T=a.createElement(R||"script"),U=k.elemNames[S];T.setAttribute("id",U);return T}function C(){b.appendChild(H("viewport"));b.appendChild(H("device"))}function n(R){return"@media only screen and (max-width: "+R+h+") {#"+k.elemNames.viewport+" {width: "+R+"px;}}\n@media only screen and (max-device-width: "+R+h+") {#"+k.elemNames.device+" {width: "+R+"px;}}\n"}function o(){var R=[],T="",S;R=q();for(S=0;S<R.length;S++){if(S===0){T="#"+k.elemNames.viewport+",#"+k.elemNames.device+" {height: 0;display: none;position: absolute;left: -999999em;z-index: -10;width: "+R[S]+"px;}\n"}else{T+=n(R[S])}}A(T)}function z(R,U,S){var T;R=R||x;U=U||Q(p);S=S||K;if("createEvent" in a){T=a.createEvent("Event");T.initEvent(R,true,true);T.className=S;T.baseClass=J;T.size=k.names[J]||v(J);U.dispatchEvent(T)}}function i(R){return s(v(R),L)}function t(R){if(R>0&&R<L.length){return k.sizes[L[R-1]]}}function l(R){return t(i(R))}function G(R){var T=i(R),S="";if(T>0){do{S+=O(t(T))||""}while(T--)}return S}function O(R){return R?" "+B+R:""}function I(){var R=u();J=R;if(K!==R){R+=G(R);f.className=(" "+f.className+" ").replace(K," "+R);K=R;return K}}function F(T,U,W){var S=[].slice.call(arguments),R=S.pop(),V;V=I();if(V){z(T,U,V)}if(typeof R==="function"){R.apply()}return d.jsmq}function D(S,R){if(typeof S==="string"&&R!==e){k[S]=R;if(S==="sizes"){k.names=E(k.sizes,true)}else{if(S==="names"){k.sizes=E(k.names)}else{if(S==="removeTest"){delete k[R];delete k[S]}}}return d.jsmq}}function P(){var R=b,S=k.elemNames,U;for(U in S){if(S.hasOwnProperty(U)){try{R.removeChild(Q(S[U]))}catch(T){}}}R=null;j=false;return d.jsmq}function M(){if(!j){if(!k.useMyOwnStyles){o()}if(!k.useMyOwnElements){C()}F()}else{if(j&&k.isTest){P()}}j=true;return d.jsmq}return{VERSION:w,update:F,fire:z,get:N,set:D,init:M,isAt:u,isBelow:g,reload:P,getSizes:q,nextLarger:l,allLarger:G}})();d.jsmq=c;if(!d.jsmq.get("delayInit")){d.jsmq.init()}})(window,window.document);
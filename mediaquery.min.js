/*!
 *  https://github.com/skaiser/mediaquery.js
 *  MIT License (MIT)
 *  Copyright (c) 2012 Stephen Kaiser
 */
(function(d,a,e){var c,f=a.documentElement,b=a.getElementsByTagName("head")[0];c=(function(){var I="0.3.9",B="",J=false,k,l,n,q,O,o,p;p=d.jsmq_config||{};p.PREFIX=l=p.PREFIX||"jsmq-";p.UNITS=n=p.UNITS||"em";p.sizes=p.sizes||{"61":l+"large","60":l+"medium","45":l+"small","30":l+"smaller"};p.elemNames=p.elemNames||{viewport:l+"media-width",device:l+"media-device-width",css:l+"styles"};p.useMyOwnStyles=p.useMyOwnStyles||false;p.useMyOwnElements=p.useMyOwnElements||false;p.supportOldBrowsers=p.supportOldBrowsers||true;p.DEFAULT_EVENT=q=p.DEFAULT_EVENT||"jsmq:update";p.DEFAULT_EVENT_ELEM=O=p.DEFAULT_EVT_ELEM||p.elemNames.viewport;p.delayInit=p.delayInit||false;p.isTest=p.isTest||false;p.names={};function g(P){return a.getElementById(P)}function m(S,Q,R){var P;if(Q){P=Q.length;R=(R&&R<P-1)?R:0;for(;R<P;R++){if(R in Q&&Q[R]==S){return R}}}return -1}function j(P,Q){var R;Q=Q||p.sizes;for(R in Q){if(Q.hasOwnProperty(R)){if(Q[R]===P){return R}}}}function w(S,R){var Q={},P;for(P in S){if(S.hasOwnProperty(P)){Q[S[P]]=R?Number(P):P}}return Q}p.names=w(p.sizes,true);function K(P){return p[P]!==e?p[P]:p}o=function(P){if(d.getComputedStyle&&d.matchMedia){o=function(S){var Q=d.getComputedStyle,R=S?"device":"viewport";return parseInt(Q(g(p.elemNames[R])).getPropertyValue("width"),10)}}else{if(p.supportOldBrowsers&&(b.currentStyle||d.getComputedStyle)){o=function(V){var S,U,Q="1em",T=V?"device":"viewport",R=V?screen.width:d.innerWidth||f.clientWidth;if(n==="em"){S=g(p.elemNames[T]);S.style.height=Q;if(S.currentStyle){Q=S.currentStyle.height}else{Q=d.getComputedStyle(S).getPropertyValue("height")}U=Q.match(/em/)!==null?16:parseInt(Q,10);S.style.height=0;return R/U}return R}}else{o=function(){return 0}}}};o();function r(){var P=[],R=p.sizes,Q;for(Q in R){if(R.hasOwnProperty(Q)){P.push(Q)}}return P.sort().reverse()}k=r();function H(T){var Q=r(),P=Q.length,S=Q[0],R=1;for(;R<=P;R++){if(T<=S&&T>(Q[R]||0)){return p.sizes[S]}S=Q[R]}return p.sizes[Q[0]]}function L(R,Q){if(R===e||typeof R==="boolean"){Q=R;var P=o(Q);return p.sizes[P]||H(P)}if(typeof R==="string"){R=p.names[R]}return R?parseInt(R,10)===o(Q):false}function C(Q,P){Q=typeof Q==="number"?Q:p.names[Q];return Q?o(P)<parseInt(Q,10):false}function y(Q){var P=a.createElement("style");P.type="text/css";P.setAttribute("id",p.elemNames.css);if(P.styleSheet){P.styleSheet.cssText=Q}else{P.appendChild(a.createTextNode(Q))}b.appendChild(P)}function z(Q,P){var R=a.createElement(P||"script"),S=p.elemNames[Q];R.setAttribute("id",S);return R}function N(){b.appendChild(z("viewport"));b.appendChild(z("device"))}function F(P){return"@media only screen and (max-width: "+P+n+") {#"+p.elemNames.viewport+" {width: "+P+"px;}}\n@media only screen and (max-device-width: "+P+n+") {#"+p.elemNames.device+" {width: "+P+"px;}}\n"}function v(){var P=[],R="",Q;P=r();for(Q=0;Q<P.length;Q++){if(Q===0){R="#"+p.elemNames.viewport+",#"+p.elemNames.device+" {height: 0;display: none;position: absolute;left: -999999em;z-index: -10;width: "+P[Q]+"px;}\n"}else{R+=F(P[Q])}}y(R)}function M(P,S,Q){var R;P=P||q;S=S||g(O);Q=Q||B;if(a.createEvent){R=a.createEvent("Event");R.initEvent(P,true,true);R.className=Q;R.size=p.names[Q];S.dispatchEvent(R)}}function h(P){return m(j(P),k)}function D(P){if(P>0&&P<k.length){return p.sizes[k[P-1]]}}function t(P){return D(h(P))}function s(P){var R=h(P),Q="";if(R>0){do{Q+=i(D(R))||""}while(R--)}return Q}function i(P){return P?" "+l+"lt-"+P.split(l)[1]:""}function x(){var P=L();if(B!==P){P+=s(P);f.className=(" "+f.className+" ").replace(B," "+P);B=P;return B}}function u(R,S,U){var Q=[].slice.call(arguments),P=Q.pop(),T;T=x();if(T){M(R,S,T)}if(typeof P==="function"){P.apply()}return d.jsmq}function A(Q,P){if(typeof Q==="string"&&P!==e){p[Q]=P;if(Q==="sizes"){p.names=w(p.sizes,true)}else{if(Q==="names"){p.sizes=w(p.names)}else{if(Q==="removeTest"){delete p[P];delete p[Q]}}}return d.jsmq}}function E(){var P=b,Q=p.elemNames,S;for(S in Q){if(Q.hasOwnProperty(S)){try{P.removeChild(g(Q[S]))}catch(R){}}}P=null;J=false;return d.jsmq}function G(){if(!J){if(!p.useMyOwnStyles){v()}if(!p.useMyOwnElements){N()}u()}else{if(J&&p.isTest){E()}}J=true;return d.jsmq}return{VERSION:I,update:u,fire:M,get:K,set:A,init:G,isAt:L,isBelow:C,reload:E,getSizes:r,nextLarger:t,allLarger:s}})();d.jsmq=c;if(!d.jsmq.get("delayInit")){d.jsmq.init()}})(window,window.document);